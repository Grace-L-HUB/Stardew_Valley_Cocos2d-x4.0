#ifndef  _APP_DELEGATE_H_  // ??????????¡À??¨¤??¡ã¨¹?????¨º
#define  _APP_DELEGATE_H_

#include "Timesystem.h"
#include "cocos2d.h"  
#include "audio/include/AudioEngine.h" 
//#include "GameBeginUI.h"
#include "Barn.h"
#include "Beach.h"
#include "Cave.h"
#include "farm.h"
#include "Forest.h"
#include "Myhouse.h"
#include "supermarket.h"
#include "Town.h"

#include "Player.h"

#include "mini_bag.h"
#include "Inventory.h"
#include "InventoryUI.h"

#include "Item.h"
#include "Generaltem.h"

#include "BasicInformation.h"
#include "Crop.h"
#include "Ore.h"
#include "tree.h"

#include "Livestock.h"
#include "Chicken.h"
#include "Cow.h"
#include "Sheep.h"
#include "TaskManagement.h"
#include "NPC.h"
#include "NPCreate.h"
#include "NPCtalkUI.h"
#include "NpcRelationship.h"
#include "intimacyUI.h"
#include "TaskManagement.h"
#include "StoreUI.h"
#include "EconomicSystem.h"
#include "SkillTree.h"
#include <memory>

#define Daytime 43200

USING_NS_CC;

class Player;
class Town;
class farm;
class supermarket;
class Myhouse;
class Crop;
class Item;
class CropBasicInformation;
class Barn;
class Inventory;
class NpcRelationship;
class mini_bag;
class TaskManagement;
class Timesystem;
/******************************** ????¡À????¨´?¡Â?? ***************************************/
extern int remainingTime;  // ?¨´?¡Â??????????
extern int day;
extern int strength;
extern int GoldAmount;
extern bool IsNextDay;
extern bool frombed;
extern bool IsSleep;
extern bool GoldMaskfirst;
extern bool RainBowfirst;
extern std::string Season;
extern std::string Weather;
extern std::string Festival;
extern std::map<std::string , int> season;
// ????¡Á¡Â?????¨´¡À?????
extern std::map<std::string , Crop> cropbasicinformation;
extern std::map<std::pair<std::string , Vec2> , bool> T_lastplace;
extern std::map<std::pair<std::string, Vec2>, bool> F_lastplace;
extern std::map<std::pair<std::string, Vec2>, bool> W_lastplace;
// ??????????¡Á¡Â????¡Á???????
extern std::vector<std::shared_ptr<Crop>> Crop_information;
extern std::vector<std::shared_ptr<Ore>> Ore_information; 
extern std::vector<std::shared_ptr<Tree>> Tree_information; 
// ???????¡Â¡Á¡Â?????¨´¡À?????
extern CropBasicInformation WHEAT;
extern CropBasicInformation CORN;
extern CropBasicInformation POTATO;
extern CropBasicInformation PUMPKIN;
extern CropBasicInformation BLUEBERRY;
extern Crop wheat; 
extern Crop corn;
extern Crop potato;
extern Crop pumpkin;
extern Crop blueberry;

//?????¨´¡À?????
extern std::string protagonistName;
extern std::string FarmName;

extern Player* player1;  // ?¨´?¡Â????¡À?????????????
extern SkillTree* skill_tree;
extern mini_bag* miniBag;
extern Inventory* inventory;
extern NpcRelationship* npc_relationship;
extern Inventory* StoreItem;
extern TaskManagement* taskManager;
extern Timesystem* TimeUI;
//?????¨®???????????¨®?????????????¨°?????????????¨°?????????????¨®
extern std::vector<std::pair<Rect , bool>> barn_space;
//?????¨®?????????¨®
extern std::vector<Livestock*> livestocks;
/**************************************************************************************/


 /**
  @brief    Cocos2d ???????¨°???????¨¤?¡§AppDelegate??

  ???¨¤???????¨ª???????¨°???¨²?¨¹???????¨ª??¡ã¨¹?¡§???????????????¨®?¡§???????¡ã?¡§????¡Á¡Â??
  ????¡Á? cocos2d::Application ?¨¤?????¡§????????????????????????????¡À????¡ì??????????????????
  */

  /************************************ ????¡À????¨´?¡Â?? ******************************************/
  // ?¨¨?¡§?????????¨®????1600, 1280
static cocos2d::Size designResolutionSize = cocos2d::Size(1600, 1280);  // ?¨¨????¡À???


class AppDelegate : private cocos2d::Application  // ????¡Á? cocos2d::Application ?¨¤??????????????
{
public:
    // ???¨¬????
    AppDelegate();

    // ????????
    virtual ~AppDelegate();

    // ?????? OpenGL ????????????????
    virtual void initGLContextAttrs();

    /**
    @brief    ???????¨°?????¡À????????????
    @return true    ??????????????????????????
    @return false   ???????¡ì¡ã??????????¨°??????
    */
    virtual bool applicationDidFinishLaunching();

    /**
    @brief    ???????¨°?????¨®?¡§?¡À?¡Â????
    @param    the pointer of the application ???¨°???????¨°???????¡§Cocos2d ?????¨¢?¡Â??????????
    */
    virtual void applicationDidEnterBackground();

    /**
    @brief    ???????¨°?????????¡ã?¡§?¡À?¡Â????
    @param    the pointer of the application ???¨°???????¨°???????¡§Cocos2d ?????¨¢?¡Â??????????
    */
    virtual void applicationWillEnterForeground();
#ifndef  _APP_DELEGATE_H_  // ¨¦??????¡è???????¨¨???¡è????????????????
#define  _APP_DELEGATE_H_

#include "Timesystem.h"
#include "cocos2d.h"  
#include "audio/include/AudioEngine.h" 
//#include "GameBeginUI.h"
#include "Barn.h"
#include "Beach.h"
#include "Cave.h"
#include "farm.h"
#include "Forest.h"
#include "Myhouse.h"
#include "supermarket.h"
#include "Town.h"

#include "Player.h"

#include "mini_bag.h"
#include "Inventory.h"
#include "InventoryUI.h"

#include "Item.h"
#include "Generaltem.h"

#include "BasicInformation.h"
#include "Crop.h"
#include "Ore.h"
#include "tree.h"

#include "Livestock.h"
#include "Chicken.h"
#include "Cow.h"
#include "Sheep.h"
#include "TaskManagement.h"
#include "NPC.h"
#include "NPCreate.h"
#include "NPCtalkUI.h"
#include "NpcRelationship.h"
#include "intimacyUI.h"
#include "TaskManagement.h"
#include "StoreUI.h"
#include "EconomicSystem.h"
#include "SkillTree.h"
#include <memory>

#define Daytime 43200

USING_NS_CC;

class Player;
class Town;
class farm;
class supermarket;
class Myhouse;
class Crop;
class Item;
class CropBasicInformation;
class Barn;
class Inventory;
class NpcRelationship;
class mini_bag;
class TaskManagement;
class Timesystem;
/******************************** ??¡§?¡À????¨¦????¡ã?????? ***************************************/
extern int remainingTime;  // ??¡ã?????????????¡ì????
extern int day;
extern int strength;
extern int GoldAmount;
extern bool IsNextDay;
extern bool frombed;
extern bool IsSleep;
extern bool GoldMaskfirst;
extern bool RainBowfirst;
extern std::string Season;
extern std::string Weather;
extern std::string Festival;
extern std::map<std::string , int> season;
// ????¡ì??????????????????????
extern std::map<std::string , Crop> cropbasicinformation;
extern std::map<std::pair<std::string , Vec2> , bool> T_lastplace;
extern std::map<std::pair<std::string, Vec2>, bool> F_lastplace;
extern std::map<std::pair<std::string, Vec2>, bool> W_lastplace;
// ???????¡ì??¡è?????????????????????????
extern std::vector<std::shared_ptr<Crop>> Crop_information;
extern std::vector<std::shared_ptr<Ore>> Ore_information; 
extern std::vector<std::shared_ptr<Tree>> Tree_information; 
// ????¡ì????????????????????????????
extern CropBasicInformation WHEAT;
extern CropBasicInformation CORN;
extern CropBasicInformation POTATO;
extern CropBasicInformation PUMPKIN;
extern CropBasicInformation BLUEBERRY;
extern Crop wheat; 
extern Crop corn;
extern Crop potato;
extern Crop pumpkin;
extern Crop blueberry;

//??????????????????
extern std::string protagonistName;
extern std::string FarmName;

extern Player* player1;  // ??¡ã??????¨¦?????¨¦????????????¡ì????
extern SkillTree* skill_tree;
extern mini_bag* miniBag;
extern Inventory* inventory;
extern NpcRelationship* npc_relationship;
extern Inventory* StoreItem;
extern TaskManagement* taskManager;
extern Timesystem* TimeUI;
//?????¡§??????????????????????????¡§?????????????????????¨¨?¡ã???¨¨??????????????????????¡§??????
extern std::vector<std::pair<Rect , bool>> barn_space;
//?????¡§??????????????????
extern std::vector<Livestock*> livestocks;
/**************************************************************************************/


 /**
  @brief    Cocos2d ?????¡§?¡§????????¡ì?????¡À????AppDelegate???

  ??¡è?¡À?¨¨??¨¨???¡è?????????¡§?¡§???????????????¡§???????????????????????¡§?????¡§???¨¨??????????¡ã???¨¨??????????¡ã????????????
  ??¡ì???¨¨?? cocos2d::Application ?¡À???????¨¦??¨¨???¡ì??????¡ì??????¨¦??¨¨??¨¦?¡§????????????????????¡§??????¨¨??¨¨??¨¦???????¡À?????????
  */

  /************************************ ??¡§?¡À????¨¦????¡ã?????? ******************************************/
  // ¨¨??????????????¨¦???¡è¡ì?¡ã????1600, 1280
static cocos2d::Size designResolutionSize = cocos2d::Size(1600, 1280);  // ¨¨??¨¨?????¨¨?¡§???


class AppDelegate : private cocos2d::Application  // ??¡ì???¨¨?? cocos2d::Application ?¡À????????¡ì?????????¡ì???
{
public:
    // ???¨¦???????¡ã
    AppDelegate();

    // ???????????¡ã
    virtual ~AppDelegate();

    // ????¡ì???? OpenGL ??????????¡À???¡ì????????¡ã
    virtual void initGLContextAttrs();

    /**
    @brief    ?????¡§?¡§?????????¡§??????????¡ì?????????¡ã
    @return true    ????¡ì??????????????????¡§??¡ì???¨¨??¨¨?????
    @return false   ????¡ì?????¡è¡À¨¨??????????¡§?¡§????¨¦????????
    */
    virtual bool applicationDidFinishLaunching();

    /**
    @brief    ?????¡§?¡§????¨¨??????????¡ã???¨¨¡ã???¡§???
    @param    the pointer of the application ???????????¡§?¡§??????????¨¦?????Cocos2d ???¨¦?¡§???¨¨¡ã???¡§??¡è?????¡ã???
    */
    virtual void applicationDidEnterBackground();

    /**
    @brief    ?????¡§?¡§????¨¦????¡ã¨¨??????????¡ã???¨¨¡ã???¡§???
    @param    the pointer of the application ???????????¡§?¡§??????????¨¦?????Cocos2d ???¨¦?¡§???¨¨¡ã???¡§??¡è?????¡ã???
    */
    virtual void applicationWillEnterForeground();

    void runScene(cocos2d::Director* director);

    void Initialize();


};

#endif  _APP_DELEGATE_H_  // ?¨¢????????????¡À??¨¤??¡ã¨¹?????¨º
